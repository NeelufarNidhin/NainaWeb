@model IEnumerable<ProductModel>



<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Left Sidebar with Filters -->
            <aside class="col-lg-3 col-md-4 col-sm-12 p-3 bg-light">
                <h3>Filters</h3>

                <form asp-controller="Home" asp-action="Index" method="get" id="filterform">
                    <div class="mb-3">
                        <input type="text" name="searchString" placeholder="Start Typing To Search" value="@ViewData["CurrentFilter"]" />
                        <input type="submit" value="Search" />
                    </div>
                    <!-- Color Filter -->
                    <div class="mb-3">
                        <h5>Color</h5>
                        <div class="d-flex flex-wrap">
                            <button type="submit" name="color" value="green" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%; background-color: green"></button>
                            <button type="submit" name="color" value="black" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%;  background-color: black"></button>
                            <button type="submit" name="color" value="pink" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%;  background-color: pink"></button>
                            <button type="submit" name="color" value="white" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%; background-color: white"></button>
                            <button type="submit" name="color" value="beige" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%; background-color: beige"></button>
                            <button type="submit" name="color" value="blue" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%; background-color: blue"></button>
                            <button type="submit" name="color" value="red" style=" width: 20px; height: 20px; border: .5px solid; border-radius: 50%; background-color: red"></button>

                        </div>
                    </div>
                    <!-- Size Filter -->
                    <div class="mb-3">
                        <h5>Size</h5>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size1" name="size" value="0-6m">
                            <label class="form-check-label" for="size1">0-6 Months</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size2" name="size" value="6-12m">
                            <label class="form-check-label" for="size2">6-12 Months</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size3" name="size" value="0-1yr">
                            <label class="form-check-label" for="size3">1-2 Years</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size4" name="size" value="2-3yr">
                            <label class="form-check-label" for="size4">2-3 Years</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size5" name="size" value="3-4yr">
                            <label class="form-check-label" for="size5">3-4 Years</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size6" name="size" value="4-5yr">
                            <label class="form-check-label" for="size6">4-5 Years</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="size7" name="size" value="free-size">
                            <label class="form-check-label" for="size7">Free-size</label>
                        </div>


                    </div>
                    <!-- Price Filter -->
                    <div>
                        <h5>Price</h5>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="price1" name="price" value="0-50">
                            <label class="form-check-label" for="price1">0-50 AED</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="price2" name="price" value="50-100">
                            <label class="form-check-label" for="price2">50-100 AED</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="price3" name="price" value="100-250">
                            <label class="form-check-label" for="price3">100-250 AED</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="price4" name="price" value="250-500">
                            <label class="form-check-label" for="price4">250-500 AED</label>
                        </div>
                        @*<div class="form-check">
                        <input type="checkbox" class="form-check-input" id="price5" name="price" value="500-570">
                        <label class="form-check-label" for="price5">500-750 AED</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="price6" name="price" value="750-1000">
                        <label class="form-check-label" for="price6">750-1000 AED</label>
                    </div>*@

                    </div>

                </form>
            </aside>
           
                <!-- Right Content with Product Listing -->
            <main class="col-lg-9 col-md-8 col-sm-12 p-3">
                <form asp-controller="Home" asp-action="Index" method="get" id="filterform">
                    <h1 class="mb-4">Product Listing</h1>
                    <!-- Sorting Dropdown -->
                    <div class="mb-3">
                        <label for="sort" name="sortOrder">Sort by:</label>
                        <select id="sort" name="sortOrder" class="form-select">
                            <option value="featured">Featured</option>
                            <option value="priceLowToHigh">Price: Low to High</option>
                            <option value="priceHighToLow">Price: High to Low</option>
                            <option value="nameAZ">Name: A to Z</option>
                            <option value="nameZA">Name: Z to A</option>
                        </select>
                        <input type="submit" value="sort" class="btn-btn secondary" />
                    </div></form>
                <!---carousel-->
                <div id="carouselExampleCaptions" class="carousel slide">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="images/banner/cover-1.png" class="d-block w-100 " alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>First slide label</h5>
                                @*<p>Some representative placeholder content for the first slide.</p>*@
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="images/banner/cover-2.png" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Second slide label</h5>

                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="images/banner/cover-3.png" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Third slide label</h5>

                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>


                <!-- Product Cards -->
                <div class="row">
                    @foreach (var product in Model)
                    {
                        <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                            <div class="card">
                                @if (product.ProductImage != null && product.ProductImage.Count() > 0)
                                {
                                    <img src="@product.ProductImage.FirstOrDefault().ImageUrl" class="card-img-top" alt="Product Image">
                                }
                                else
                                {
                                    <img src="https://placehold.co/500x600.png" class="card-img-top" alt="Placeholder Image">
                                }
                                <div class="card-body">
                                    <h5 class="card-title">@product.ProductName</h5>
                                    <p class="card-text">Size: @product.Size</p>
                                    <p class="card-text">
                                        <span class="text-decoration-line-through">Price: @product.Price AED</span>
                                        <br />
                                        Now: @product.Sale_Price AED
                                    </p>
                                    <a asp-action="Details" asp-route-productId="@product.Id" class="btn btn-primary">Details</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </main>
        </div>
    </div>
    
    <!-- Include Bootstrap JS (if needed) -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script> -->
    <!-- Include your custom JavaScript (if needed) -->
    <!-- <script src="scripts.js"></script> -->
</body>


<script>

    const form = document.getElementById("filterform");
    const sizecheckboxes = document.querySelectorAll('input[type ="checkbox"][name="size"]');
    const pricecheckboxes = document.querySelectorAll('input[type ="checkbox"][name="price"]');

    

    sizecheckboxes.forEach(checkbox => {
        checkbox.addEventListener("click", function () {
            form.submit();
        });
         
    });
    pricecheckboxes.forEach(checkbox => {
        checkbox.addEventListener("click", function () {
            form.submit();
        });
         
    });

</script>